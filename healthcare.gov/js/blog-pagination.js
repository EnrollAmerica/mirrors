(function($,page){function matchCurrentUrl(post){return page.url.indexOf(post.url)!==-1}$(function(){$.getJSON("/api/blog-posts.json").done(function(data){var posts=data[page.lang];var dateSortedPosts=_.sortBy(posts,"date"),currentPostIndex=_.findIndex(dateSortedPosts,matchCurrentUrl);var previousBlogPost=dateSortedPosts[currentPostIndex-1],nextBlogPost=dateSortedPosts[currentPostIndex+1],$previousPostLink=$("a.previous-post"),$nextPostLink=$("a.next-post");if(typeof previousBlogPost==="object"){$previousPostLink.attr("href",previousBlogPost.url)}else{$previousPostLink.remove()}if(typeof nextBlogPost==="object"){$nextPostLink.attr("href",nextBlogPost.url)}else{$nextPostLink.remove()}})})})(jQuery,page);