"use strict"
function makeTitleCase(t){var e,a=[],n="",i=""
if("district-of-columbia"===t.toLowerCase())return"District of Columbia"
a=t.split("-")
for(e in a)i=a[e],n+=i.substr(0,1).toUpperCase()+i.substr(1,i.length).toLowerCase()+" "
return n.slice(0,-1)}function exists(t){return!(!t||null===t)}function stringIsNotEmpty(t){return!!(t&&t.length>0)}function filterByState(t){return!!("state"in t&&"string"==typeof t.state&&isNaN(t.state)&&t.state.toUpperCase()===stateName.toUpperCase())}function gotoPage(t){t&&""!==t&&(location.href=t)}function chooseStateProfilePage(t){var e="",a="/medicaid/by-state/stateprofile.html?state=",n="/medicaid/by-state/",i=t.url.options[t.url.selectedIndex].value
e=0===i.search(/!/)?encodeURI(n+i.substr(1,i.length)+".html"):encodeURI(a+i),gotoPage(e)}function getQualityMeasures(){if(!qualityMeasuresLoaded){qualityMeasuresLegend.display()
try{qualityMeasuresDetailChild.getStateData()}catch(t){console.error(t)}try{qualityMeasuresDetailAdult.getStateData()}catch(t){console.error(t)}}qualityMeasuresLoaded=!0}var stateName,qualityMeasuresLoaded=!1,_gaq=_gaq||[],paperCardController={setup:function(){if($(".nav_boxes").length>0){var t=document.getElementsByTagName("html").item(0),e=-1===t.className.indexOf("no-csstransforms")
$(".no-csstransforms .larger").toggleClass("undisplayed"),$(".larger").children().toggleClass("undisplayed"),$(".nav.plus").click(function(){var t=$(this).closest(".nav_box"),a=t.next(),n=$(this).closest(".nav_boxes").find(".nav_box.larger").not(a)
return e?(a.toggleClass("atop").delay(600).toggleClass("hidden"),n.removeClass("atop").addClass("hidden")):(a.toggleClass("undisplayed"),n.addClass("undisplayed")),a.children().toggleClass("undisplayed"),n.children().addClass("undisplayed"),!1}),$("p.teaser").html(function(t,e){return e?e.slice(0,180):e}),$(".nav.minus").click(function(){var t=$(this).parents(".nav_box")
return t.children().toggleClass("undisplayed"),e?(t.toggleClass("hidden"),t.toggleClass("atop")):t.toggleClass("undisplayed"),!1})}}},gauge={draw:function(t,e,a){if(e){if(isNaN(e.rate))return void this.writeText(t,e)
$(t).dxLinearGauge($.extend(!0,{},this.options,{value:e.rate,valueIndicator:{color:"#066792",type:"textCloud",arrowLength:30,text:{precision:1,font:{size:12},customizeText:function(){return"NR"===e.rate||"#"===e.rate?a+"\n(Not Reported)":a+"\n"+this.valueText+"%"}}},tooltip:{enabled:!0},subvalues:[e.percentile_25th,e.median,e.percentile_75th],subvalueIndicator:{color:"#d17d28",type:"rhombus"}}))}},options:{animation:{enabled:!1},scale:{startValue:0,endValue:100,tickInterval:10}},writeText:function(t,e){switch(e.rate){case"NR":$(t).text("NR = State did not report the measure for this population")
break
case"#":$(t).text("# = Rate not reported because denominator is less than 30")}}},qualityMeasuresState={getStateData:function(){var t=this
$.ajax({type:"GET",dataType:"json",url:"/resources/data/quality-measures-state-totals.json",success:function(e){var a=e.filter(filterByState)
1===a.length&&t.display(a[0])},error:function(){alert("Error in qualityMeasuresState.getStateData(). Unable to get data from "+this.url)}})},display:function(t){t&&($(".child_core_quality_reported").text(t.measures_reported_child),$(".adult_core_quality_reported").text(t.measures_reported_adult))}},qualityMeasuresNational={getData:function(){var t=this
$.ajax({type:"GET",dataType:"json",url:"/resources/data/quality-measures-national-totals.json",success:function(e){t.display(e)},error:function(t){alert("Error in qualityMeasuresNational.getData(). Unable to get data from "+this.url)}})},display:function(t){t&&(this.as_of_date=t.as_of_date,$(".quality_as_of_date").text(this.as_of_date),$(".child_core_quality_total").text(t.child_measures),$(".adult_core_quality_total").text(t.adult_measures))},displayAsOfDate:function(){$(".quality_as_of_date").text(this.as_of_date)}},qualityMeasuresDetailAdult={getStateData:function(){var t=this
$.ajax({type:"GET",dataType:"json",url:"/resources/data/quality-measures-adult.json",success:function(e){t.display(e.filter(filterByState))},error:function(t){alert("Error in qualityMeasuresDetailAdult.getStateData()")}})},display:function(t){if(t){var e,a,n=""
for(t.length>0&&$("#adult_quality_measures").append('<table id="adult_quality_measures_table"><caption>Adult Core Set Measures, FFY <span class="quality_as_of_date"></span></caption><tbody id="adult_quality_measures_table_body"></tbody></table><p>Source: Mathematica analysis of FFY 2014 Adult CARTS reports as of May 8, 2015. For more information, see the <a href="https://www.medicaid.gov/medicaid/quality-of-care/downloads/2015-adult-sec-rept.pdf">2015 Secretary’s Report</a>.</p>'),e=0;e<t.length;e++)n!==t[e].category&&($("#adult_quality_measures_table_body").append('<tr><th colspan="6">'+t[e].category+'</th></tr><tr><th class="quality-measure-col">Quality Measure</th><th>Number of States  Reporting</th><th>State Rate</th><th>Population</th><th></th></tr>'),n=t[e].category),a="gauge"+e,$("#adult_quality_measures_table_body").append('<tr><td align="left">'+t[e].quality_measure+'</td><td align="right">'+t[e].number_of_states+'</td><td align="right">'+this.format(t[e].rate)+'</td><td align="left">'+t[e].population+'</td><td> <div class="gauge" id="'+a+'"></div></td></tr>'),gauge.draw("#"+a,t[e],stateName)
qualityMeasuresNational.displayAsOfDate()}},format:function(t){return"number"==typeof t?t.toFixed(1):t}},qualityMeasuresDetailChild={getStateData:function(){var t=this
$.ajax({type:"GET",dataType:"json",url:"/resources/data/quality-measures-child.json",success:function(e){t.display(e.filter(filterByState))},error:function(t){alert("Error in qualityMeasuresDetailChild.getStateData()")}})},display:function(t){if(t){var e,a,n=""
for(t.length>0&&$("#child_quality_measures").append('<table id="child_quality_measures_table"><caption>Child Core Set Measures, FFY <span class="quality_as_of_date"></span></caption><tbody id="child_quality_measures_table_body"></tbody></table><p>Source: Mathematica analysis of FFY 2014 Child CARTS and Form CMS-416 reports as of May 8, 2015. For more information, see the <a href="https://www.medicaid.gov/medicaid/quality-of-care/downloads/2015-child-sec-rept.pdf">2015 Secretary’s Report</a>.</p>'),e=0;e<t.length;e++)n!==t[e].category&&($("#child_quality_measures_table_body").append('<tr><th colspan="6">'+t[e].category+'</th></tr><tr><th class="quality-measure-col">Quality Measure</th><th>Number of States  Reporting</th><th>State Rate</th><th>Population</th><th></th></tr>'),n=t[e].category),a="gauge-child"+e,$("#child_quality_measures_table_body").append('<tr><td align="left">'+t[e].quality_measure+'</td><td align="right">'+t[e].number_of_states+'</td><td align="right">'+this.format(t[e].rate)+'</td><td align="left">'+this.getPopulationText(t[e].population)+'</td><td> <div class="gauge" id="'+a+'"></div></td></tr>'),gauge.draw("#"+a,t[e],stateName)
qualityMeasuresNational.displayAsOfDate(),$("#loading").hide()}},getPopulationText:function(t){return"NA"===t?"NA = Information is not available for the CHIP population because the data are reported on Form CMS-416.":t},format:function(t){return"number"==typeof t?t.toFixed(1):t}},qualityMeasuresLegend={display:function(){$("#understanding_these_charts").html('<h3>Understanding These Charts</h3><p>One way CMS measures quality of care in the Medicaid and CHIP programs is through two core sets of measures, <a href="https://www.medicaid.gov/medicaid/quality-of-care/performance-measurement/child-core-set/index.html">one for children</a> and <a href="https://www.medicaid.gov/medicaid/quality-of-care/performance-measurement/adult-core-set/index.html">one for adults</a>. Each quality measure is accompanied by a gauge that allows you to view <span class="state_name"></span>’s performance in comparison to other states reporting the measure. The orange diamonds show the top and bottom quartiles and the median among the states that reported on the measure. Left to right they are: the bottom quartile, the median, and the top quartile, as the chart below illustrates.</p><div><img alt="Legend" src="/resources/images/graphics/quality-measures-legend.png" height="189" width="438"></div><br/>')}},eligibility={getStateData:function(){var t=this
$.when($.getJSON("/resources/data/medicaid-income-eligibility.json",function(e){var a
for(a in e)if(e[a].state===stateName){t.stateRecord=e[a]
break}}),$.getJSON("/resources/data/footnotes.json",function(e){t.footnotes=e}),$.getJSON("/resources/data/apply-note-to.json",function(e){t.notesApplyTo=e})).then(function(){t.display()})},display:function(){var t,e=this.stateRecord,a=this.footnotes,n=this.getStateEligibilityNotes(),i=0,r=0,s=-1,o=e
for(t in e)for(i=0;i<n.length;i++)n[i].column===t&&(o[t]="<nobr>"+e[t]+"<sup>"+n[i].note_id+"</sup></nobr>")
for($(".eligibilityasof").text("June 1, 2016"),$("#eligibilityTbody").remove(),$("#eligibilityLevels").append('<tbody>\n	<tr id="eligibilityRow">\n		<td>'+e.state+'</td>\n		<td class="right_align">'+e.medicaid_ages_0_1+'</td>\n		<td class="right_align">'+e.medicaid_ages_1_5+'</td>\n		<td class="right_align">'+e.medicaid_ages_6_18+'</td>\n		<td class="right_align">'+e.separate_chip+'</td>\n		<td class="right_align">'+e.pregnant_women_medicaid+'</td>\n		<td class="right_align">'+e.pregnant_women_chip+'</td>\n		<td class="right_align">'+e.parents+'</td>\n	<td class="right_align">'+e.other_adults+"</td>\n	</tr>\n</tbody>\n"),$(".footnote").remove(),i=0;i<n.length;i++)for(r=0;r<a.length;r++)n[i].note_id===a[r].id&&s!==n[i].note_id&&($("#footnoteDiv").append('<p class="footnote">'+a[r].id+":  "+a[r].text+"</p>"),s=n[i].note_id)},getStateEligibilityNotes:function(){var t,e=[]
for(t=0;t<this.notesApplyTo.length;t++)this.notesApplyTo[t].state===stateName&&e.push(this.notesApplyTo[t])
return e}},changeSince2013October={standard:"As of <enrolldatadate>, <state> has enrolled <totalenrollcurrent> individuals in Medicaid and CHIP <enrollnetchange> since the first Marketplace Open Enrollment Period and related Medicaid program changes in October 2013. ",noDataAvail:"No enrollment growth data is available for <state>. "},marketplaceTypeDescriptions={ffm:"The Federally-facilitated marketplace (FFM) offers coverage in <state>.",partnership:"The Federally-facilitated marketplace (FFM) offers coverage in <state> through a partnership model in which <state> assumes primary responsibility for certain functions of the FFM, either permanently or as they work towards running a State-based Marketplace.",sbm:"<state> operates a State-based Marketplace.",sbmStar:"<state> operates a State-based Marketplace but uses the Federally-facilitated marketplace’s (FFM) information technology platform for eligibility and enrollment functions. This means the FFM is making either assessments or determinations of Medicaid and CHIP eligibility on behalf of the state.",planManagement:"The Federally-facilitated marketplace (FFM) offers coverage in <state> through a partnership model in which <state> assumes plan management functions including: recommending plans for qualified health plan (QHP) certification, recertification and decertification; QHP issuer account management; and day-to-day administration and oversight of QHP issuers.",ffmShop:"The Federally-facilitated marketplace (FFM) offers coverage in <state>, and <state> operates a state-based Small Business Health Options (SHOP) marketplace that offers coverage for small business owners and their employees."},enrollment={getEnrollment:function(){var t=this
$.when($.getJSON("/resources/data/enrollment-by-state.json",function(e){var a=e.filter(filterByState)
1===a.length?t.stateData=a[0]:t.stateData=null}),$.getJSON("/resources/data/enrollment-national-totals.json",function(e){t.nationalTotals=e})).then(function(){$(".enrolldatadate").text(t.nationalTotals.current_month),t.displayMedicaidExpansion(),t.displayChangeSince2013October(),t.displayMarketplaceType(),columnChart.initializeData(t.getStateData(),t.nationalTotals),columnChart.draw(),t.displayEnrollmentTable()})},getStateData:function(){return this.stateData},displayEnrollmentTable:function(){this.getStateData()&&($(".enrollmentRow").remove(),$("#enrollmentTable").append("<tr class='enrollmentRow' ><td>"+this.getStateData().state+' </td><td align="right">'+(this.getStateData().total_medicaid_and_chip_enrollment_current_month||"Not Available")+'</td><td align="right">'+(this.getStateData().net_change_pre_open_enrollment_to_current_month||"Not Available")+'</td><td align="right">'+(this.getStateData().percent_change_pre_open_enrollment_to_current_month||"Not Available")+"</td></tr>"),$("#enrollmentTable").append("<tr class='enrollmentRow' ><td>National Totals </td><td align=\"right\">"+this.nationalTotals.total_enrollment+'</td><td align="right">'+this.nationalTotals.net_increase+'</td><td align="right">'+this.nationalTotals.percent_increase+"</td></tr>"))},getIncreaseOrDecrease:function(){var t,e="increase",a="",n=this.getStateData().percent_change_pre_open_enrollment_to_current_month
return stringIsNotEmpty(n)?(a=this.getStateData().percent_change_pre_open_enrollment_to_current_month,"-"===n.charAt(0)&&(e="decrease",a=n.substr(1,n.length)),t="— a net "+e+" of "+a):t="",t},getMarketplaceTypeText:function(){var t=""
if(this.getStateData().marketplace_type)switch(this.getStateData().marketplace_type.toUpperCase()){case"FFM":t=marketplaceTypeDescriptions.ffm.replace("<state>",this.getStateData().state)
break
case"PARTNERSHIP":t=marketplaceTypeDescriptions.partnership.replace(/<state>/g,this.getStateData().state)
break
case"PLAN MANAGEMENT":t=marketplaceTypeDescriptions.planManagement.replace(/<state>/g,this.getStateData().state)
break
case"SBM":t=marketplaceTypeDescriptions.sbm.replace(/<state>/g,this.getStateData().state)
break
case"SBM**":t=marketplaceTypeDescriptions.sbmStar.replace(/<state>/g,this.getStateData().state)
break
case"FFM/SBM-SHOP":t=marketplaceTypeDescriptions.ffmShop.replace(/<state>/g,this.getStateData().state)
break
default:t="[ unrecogonized value ]"}else t=" [ source not available ]"
return t},getMedicaidExpansionText:function(){var t
if(this.getStateData().medicaid_expansion)switch(this.getStateData().medicaid_expansion.toUpperCase()){case"Y":t="has"
break
case"N":t="has not"
break
default:t="[ unrecogonized value ]"}else t=" [ source not available ]"
return t},getChangeSince2013OctoberText:function(){var t
return exists(this.getStateData().percent_change_pre_open_enrollment_to_current_month)&&exists(this.getStateData().total_medicaid_and_chip_enrollment_current_month)?(t=changeSince2013October.standard.replace("<state>",this.getStateData().state),t=t.replace("<enrolldatadate>",this.nationalTotals.current_month),t=t.replace("<totalenrollcurrent>",this.getStateData().total_medicaid_and_chip_enrollment_current_month),t=t.replace("<enrollnetchange>",this.getIncreaseOrDecrease())):t=changeSince2013October.noDataAvail.replace("<state>",this.getStateData().state),t},displayMedicaidExpansion:function(){$(".medicaid_expansion").text(this.getMedicaidExpansionText())},displayMarketplaceType:function(){$("#marketplacetype").text(this.getMarketplaceTypeText())},displayChangeSince2013October:function(){$("#change_since_2013_october").text(this.getChangeSince2013OctoberText())},displayCurrentMonth:function(){$(".currentMonth").each(function(t,e){e.innerHTML=this.nationalTotals.current_month})}},enrollmentStrategies={getStateData:function(){var t=this
$.ajax({type:"GET",dataType:"json",url:"/resources/data/targeted-enrollment-strategies.json",success:function(e){var a,n=!1
for(a in e)if(e[a].state===stateName){n=!0,t.display(e[a])
break}n||t.displayNotFoundMessage()},error:function(t){alert("Error in enrollmentStrategies.getStateData()")}})},displayNotFoundMessage:function(){$(".targeted_enrollment").text("has not"),$("#enrollstratlanguage").html("<p>"+stateName+" has not adopted any strategies to facilitate Medicaid and CHIP enrollment or to retain coverage for eligible individuals.</p>")},display:function(t){if(!this.isRecordEmpty(t)){var e=t.state+' has adopted strategies to facilitate Medicaid and CHIP enrollment and to retain coverage for eligible individuals. <a href="https://www.medicaid.gov/medicaid/outreach-and-enrollment/index.html">Learn more</a> about targeted enrollment strategies.',a=this.clean(t.strategy_1_early_magi),n=this.clean(t.strategy_2_delayed_renewals_date_of_completion),i=this.clean(t.strategy_3_facilitating_enrollment_through_administrative_data_transfer),r=this.clean(t.strategy_4_enrolling_parents_based_on_children_s_eligibility),s=this.clean(t.strategy_5_adopting_12_month_continuous_eligibility_for_parents_other_adults),o='<table id="enrollStratTable">\n	<caption>'+stateName+" Medicaid &amp; CHIP Targeted Enrollment Strategies</caption>\n	<thead>\n		<tr>\n			<th>State</th>\n			<th>Strategy&nbsp;1:<br>Early MAGI</th>\n			<th>Strategy&nbsp;2:<br>Delayed Renewals &amp; Date of Completion</th>\n			<th>Strategy&nbsp;3:<br>Facilitating Enrollment through Administrative Data Transfer</th>\n			<th>Strategy&nbsp;4:<br>Enrolling Parents Based on Children's Eligibility</th>\n			<th>Strategy&nbsp;5:<br>Adopting 12-month Continuous Eligibility for Parents/Other Adults</th>\n		</tr>\n	</thead>\n	<tbody>\n		<tr>\n			<td>"+stateName+"</td>\n			<td>"+a+"</td>\n			<td>"+n+"</td>\n			<td>"+i+"</td>\n			<td>"+r+"</td>\n			<td>"+s+"</td>\n		</tr>\n	</tbody>\n	</table>\n\n"
$("#enrollstratlanguage").after(o),$(".targeted_enrollment").text("has"),$("#enrollstratlanguage").html("<p>"+e+"</p>")}},isRecordEmpty:function(t){return this.isFieldEmpty(t.strategy_1_early_magi)&&this.isFieldEmpty(t.strategy_2_delayed_renewals_date_of_completion)&&this.isFieldEmpty(t.strategy_3_facilitating_enrollment_through_administrative_data_transfer)&&this.isFieldEmpty(t.strategy_4_enrolling_parents_based_on_children_s_eligibility)&&this.isFieldEmpty(t.strategy_5_adopting_12_month_continuous_eligibility_for_parents_other_adults)},isFieldEmpty:function(t){return!t||0===t.length},clean:function(t){return t?t:""}},stateProgramDocuments={getStateData:function(){var t=this
$.ajax({type:"GET",dataType:"json",url:"/resources/data/spp-urls.json",success:function(e){var a=e.filter(filterByState)
1===a.length&&t.display(a[0])},error:function(t){alert("Error in stateProgramDocuments.getStateData(). Unable to get data from "+this.url)}})},display:function(t){var e="/state-resource-center/medicaid-state-plan-amendments/medicaid-state-plan-amendments.html?filterBy=",a="Medicaid State Plan Amendments (SPAS)",n="/chip/state-program-information/chip-state-program-information.html?filterBy=",i="CHIP State Plan Amendments",r="/medicaid/section-1115-demo/demonstration-and-waiver-list/waivers_faceted.html?filterBy=",s="Demonstrations &amp; Waivers",o="Managed Care Profile",l="BHP Blueprint",d="BHP Revision Summary",c=this.parseUrl(t.managed_care_profile),u=this.parseUrl(t.bhp_blueprint),h=this.parseUrl(t.bhp_revisions),p=stateName
switch(p){case"Kansas":p+=","
break
case"Virginia":p="VA,"}$("#urlsprogramdocs").empty(),this.append(this.createLink(e+p,a)),this.append(this.createLink(n+p,i)),this.append(this.createLink(r+stateName,s)),this.append(this.createLink2(c,o)),this.append(this.createLink2(u,l)),this.append(this.createLink2(h,d))},parseUrl:function(t){var e
return stringIsNotEmpty(t)&&(e=t.toLowerCase(),/^https?:\/\/(www\.)?medicaid\.gov/.test(e)&&(e=e.replace(/^https?:\/\/(www\.)?medicaid\.gov/,""))),e},createLink:function(t,e){return'<a href="'+t+'">'+e+"</a>"},createLink2:function(t,e){return stringIsNotEmpty(t)?this.createLink(t,e):""},append:function(t){t&&$("#urlsprogramdocs").append("<li>"+t+"</li>")}}
jQuery(document).ready(function(t){var e
window.jQuery&&(e=t.getParam("state")||"Alabama",stateName=makeTitleCase(e),t("title").text(stateName+" | Medicaid.gov"))
try{eligibility.getStateData()}catch(a){console.error(a)}try{enrollment.getEnrollment()}catch(a){console.error(a)}try{enrollmentStrategies.getStateData()}catch(a){console.error(a)}try{qualityMeasuresNational.getData()}catch(a){console.error(a)}try{qualityMeasuresState.getStateData()}catch(a){console.error(a)}try{stateProgramDocuments.getStateData()}catch(a){console.error(a)}t(".state_name").text(stateName),paperCardController.setup()}),google.load("visualization","1.0",{packages:["corechart"]})
var columnChart={showChart:!1,initializeData:function(t,e){exists(t.pre_open_enrollment_monthly_average_medicaid_and_chip_enrollment_july_sept_2013)&&exists(t.total_medicaid_and_chip_enrollment_current_month)?(this.showChart=!0,this.july_sept_2013=parseInt(t.pre_open_enrollment_monthly_average_medicaid_and_chip_enrollment_july_sept_2013.replace(/,/g,"")),this.currentEnrollment=parseInt(t.total_medicaid_and_chip_enrollment_current_month.replace(/,/g,"")),this.state=t.state,this.currentPeriod="Total "+e.current_month):this.showChart=!1},draw:function(){if(columnChart.showChart===!0){var t=new google.visualization.DataTable
t.addColumn("string","Period"),t.addColumn("number","Enrollment"),t.addRows([["Avg July-Sept 2013",columnChart.july_sept_2013],[columnChart.currentPeriod,columnChart.currentEnrollment]])
var e={legend:"none",title:columnChart.state+" Medicaid/CHIP Enrollment",colors:["#066792"],vAxis:{minValue:0},height:290},a=new google.visualization.ColumnChart(document.getElementById("chart_div"))
a.draw(t,e),$("#enrollment_source").html("Source: <a href='/medicaid/program-information/medicaid-and-chip-enrollment-data/report-highlights/medicaid-and-chip-application-eligibility-determination-and-enrollment-data.html'>Medicaid/CHIP Enrollment</a>")}}}
!function(t){t.getParam=function(t){var e=decodeURI(window.location.search.substring(1))
if(e===!1||""===e)return null
var a,n,i=e.split("&"),r={}
for(a in i)n=i[a].indexOf("="),-1===n?r[i[a]]="":r[i[a].substring(0,n)]=i[a].substr(n+1)
return r[t]}}(jQuery)
